<!DOCTYPE html>
<html>
<head>
    <title>Attractions - Batangas Tourism</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body class="destination-page">

<!-- Navigation -->
<nav class="navbar">
    <div class="logo">Batangas Tourism</div>
    <div class="nav-links">
        <a href="/" class="back-btn">&larr; Back</a>
    </div>
</nav>

<!-- FILTER BAR -->
<div class="filter-container">
    <button class="filter-btn active" onclick="filterCards('All')">All</button>
    <button class="filter-btn" onclick="filterCards('Nature')">Nature</button>
    <button class="filter-btn" onclick="filterCards('Heritage')">Heritage</button>
    <button class="filter-btn" onclick="filterCards('Leisure')">Leisure</button>
    <button class="filter-btn" onclick="filterCards('Food & Dining')">Food & Dining</button>
    <button class="filter-btn" onclick="filterCards('Pasalubong')">Pasalubong</button>
</div>

<!-- MAIN GRID -->
<main class="grid-container">
    {% for attraction in attractions %}
    <a href="{{ attraction.gmap_link }}" target="_blank" class="card-link">
        <div class="card" data-categories="{{ attraction.categories | join(',') }}">

            <div class="card-image">
                <img src="/static/images/{{ attraction.image }}" alt="{{ attraction.name }}">

                <div class="category-wrapper">
                    {% for cat in attraction.categories %}
                        <span class="category-label {{ cat | lower | replace(' ', '-') | replace('&', 'and') }}">
                            {{ cat }}
                        </span>
                    {% endfor %}
                </div>
            </div>

            <div class="card-content">
                <h2>{{ attraction.name }}</h2>
                <p>{{ attraction.description }}</p>
            </div>
        </div>
    </a>
    {% endfor %}
</main>

<!-- FILTER SCRIPT -->
<script>
function filterCards(category) {
    // Update active button appearance
    const buttons = document.querySelectorAll(".filter-btn");
    buttons.forEach(btn => btn.classList.remove("active"));
    event.target.classList.add("active");

    // Filter logic for multi-category cards
    const cards = document.querySelectorAll(".card");
    cards.forEach(card => {
        const categories = card.getAttribute("data-categories").split(",");

        if (category === "All" || categories.includes(category)) {
            card.parentElement.style.display = "block";
        } else {
            card.parentElement.style.display = "none";
        }
    });
}
</script>

<footer> Â© 2025 Batangas Tourism </footer>

</body>
</html>
